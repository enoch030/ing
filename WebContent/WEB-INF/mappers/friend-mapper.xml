<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="friend">
	<insert id="addNewOne">
		insert into friend values(friend_seq.nextval, #{one},#{other},0,sysdate)
	</insert>
	
	<select id="reqToMe" resultType="hashmap">
		select * from friend where other=#{other} and status = 0
	</select>
	
	<select id="myWaitingList" resultType="hashmap"><!-- 내가 한 친신 대기 리스트 -->
		select * from friend where one=#{one} and status = 0
	</select>
	
	<select id="getList" resultType="hashmap">
		select * from friend where (other=#{id} or one =#{id}) and status = 1
	</select>
	
	<update id="updateStatus">
		update friend set status = 1 where no = #{no}
	</update>
	
	<delete id="deleteFriend">
		delete from friend where no = #{no}
	</delete>
	
</mapper>